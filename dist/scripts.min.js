let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(t){"object"==typeof t?e.push(t):console.log("This pokemon is not an object!")}const n=document.querySelector("#loading");function i(){n.classList.add("show")}function l(){n.classList.remove("show")}let c=document.getElementById("btn-back-to-top");return window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?c.style.display="block":c.style.display="none"},c.addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}),{add:o,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokemon-list"),o=document.createElement("li"),n=document.createElement("div"),i=document.createElement("button");var l;i.innerText=e.name,n.classList.add("pokeball"),i.classList.add("name"),n.appendChild(i),o.appendChild(n),t.appendChild(o),l=e,i.addEventListener("click",function(){var e;e=l,pokemonRepository.loadDetails(e).then(function(){!function(e){let t=$(".modal-body"),o=$(".modal-title");o.empty(),t.empty();let n=$("<h1>"+e.name+"</h1>"),i=$('<img class="modal-img" style="width:50%"> alt=""');i.attr("src",e.imageUrl);let l=$("<p>Height : "+e.height+" m</p>"),c=$("<p>Weight : "+e.weight+" kg</p>");o.append(n),t.append(i),t.append(l),t.append(c),$("#exampleModalLive").modal()}(e)})})},loadList:function(){return i(),fetch(t).then(function(e){return e.json()}).then(function(e){l(),e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){l(),console.error(e)})},loadDetails:function(e){i();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){l(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types}).catch(function(e){l(),console.error(e)})}}}();pokemonRepository.loadList().then(function(){document.querySelector(".search-pokemon").addEventListener("submit",function(e){e.preventDefault();let t=document.querySelector("#myInput").value;document.querySelector(".pokemon-list").innerHTML="",""===t?pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}):pokemonRepository.getAll().forEach(function(e){e.name.indexOf(t)>-1&&pokemonRepository.addListItem(e)})}),pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});